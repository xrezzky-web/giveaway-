<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>XREZZKYSTORE RNG</title>

<style>
body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#0f0f0f;
  font-family:Arial, sans-serif;
  color:white;
}

.container{
  position:relative;
  width:320px;
  text-align:center;
}

#wheelBox{
  position:relative;
  width:300px;
  height:300px;
  margin:auto;
}

#wheel{
  width:100%;
  height:100%;
  border-radius:50%;
  border:6px solid #fff;
  transition:transform 4s cubic-bezier(0.17, 0.67, 0.22, 0.99);
}

/* PANAH FIX */
#arrow{
  position:absolute;
  bottom:-12px;
  left:50%;
  transform:translateX(-50%);
  width:0;
  height:0;
  border-left:14px solid transparent;
  border-right:14px solid transparent;
  border-top:24px solid #ffffff;
  z-index:20;
}

button{
  margin-top:20px;
  padding:12px 25px;
  font-size:16px;
  font-weight:bold;
  border:none;
  border-radius:8px;
  cursor:pointer;
  background:#25d366;
  color:#000;
}

#result{
  margin-top:15px;
  font-size:18px;
  font-weight:bold;
}
</style>
</head>

<body>
<div class="container">

  <div id="wheelBox">
    <canvas id="wheel" width="300" height="300"></canvas>
    <div id="arrow"></div>
  </div>

  <button onclick="spin()">SPIN</button>
  <div id="result">Hasil: -</div>

</div>

<script>
const canvas = document.getElementById("wheel");
const ctx = canvas.getContext("2d");

const items = [
  "BONUS 5%",
  "ZONK",
  "BONUS 10%",
  "COBA LAGI",
  "BONUS 20%",
  "ZONK"
];

const colors = ["#ff4d4d","#4da6ff","#ffd24d","#4dff88","#b84dff","#ff944d"];
const total = items.length;
const anglePer = 360 / total;

let currentRotation = 0;

function drawWheel(){
  let start = 0;
  for(let i=0;i<total;i++){
    ctx.beginPath();
    ctx.moveTo(150,150);
    ctx.fillStyle = colors[i];
    ctx.arc(150,150,150,start,start + (Math.PI*2/total));
    ctx.fill();

    ctx.save();
    ctx.translate(150,150);
    ctx.rotate(start + Math.PI/total);
    ctx.fillStyle="#000";
    ctx.font="bold 14px Arial";
    ctx.textAlign="right";
    ctx.fillText(items[i],130,5);
    ctx.restore();

    start += Math.PI*2/total;
  }
}

drawWheel();

function spin(){
  const idx = Math.floor(Math.random()*total);
  const target = 90 - (idx * anglePer) - anglePer/2;
  const rotate = 360*5 + target;

  currentRotation += rotate;
  canvas.style.transform = `rotate(${currentRotation}deg)`;

  setTimeout(()=>{
    document.getElementById("result").innerText =
      "Hasil: " + items[idx];
  },4000);
}
</script>

</body>
</html>
