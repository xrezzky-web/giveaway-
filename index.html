<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>XREZZKYSTORE RNG GIVEAWAY</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:radial-gradient(circle at top,#18eaea55,#05060c 70%);
  font-family:Arial,Helvetica,sans-serif;
  color:#fff;
}
.card{
  width:330px;
  background:#050b12;
  border-radius:18px;
  padding:16px;
  text-align:center;
  box-shadow:0 0 30px #00ffff55;
}
h1{color:#00ffff;font-size:18px;margin:4px 0}
small{color:#7ff;font-size:11px}

input,button{
  width:100%;
  padding:10px;
  margin-top:8px;
  border:none;
  border-radius:10px;
}
input{
  background:#0b141c;
  color:#0ff;
}
button{
  background:#00ffff;
  color:#000;
  font-weight:bold;
  cursor:pointer;
  position:relative;
  z-index:5;
}
button:disabled{
  background:#044;
  color:#8ff;
}

#wheel-box{
  width:220px;
  height:220px;
  margin:14px auto;
  position:relative;
}
#wheel{
  width:100%;
  height:100%;
  border-radius:50%;
  border:8px solid #0ff;
  transition:transform 4s cubic-bezier(.17,.67,.24,1);
}
#pointer{
  position:absolute;
  top:-14px;
  left:50%;
  transform:translateX(-50%);
  font-size:26px;
}

#result{margin-top:6px;font-weight:bold;min-height:22px}

.list{
  background:#000;
  margin-top:8px;
  padding:8px;
  border-radius:8px;
  max-height:90px;
  overflow:auto;
  font-size:12px;
  text-align:left;
}

footer{margin-top:8px;font-size:10px;color:#666}
</style>
</head>

<body>
<div class="card">
  <h1>XREZZKYSTORE</h1>
  <small>RNG GIVEAWAY SYSTEM</small>

  <input id="name" placeholder="Nama peserta">
  <button id="spinBtn" onclick="spin()">üé∞ SPIN RNG</button>

  <div id="wheel-box">
    <div id="pointer">‚¨áÔ∏è</div>
    <div id="wheel"></div>
  </div>

  <div id="result">Siap mengundi‚Ä¶</div>
  <div class="list" id="winnerList"></div>
  <div class="list" id="logList"></div>

  <footer>¬© XREZZKYSTORE OFFICIAL</footer>
</div>

<script>
/* ========= CONFIG ========= */
const PRIZES = [
  "Saldo DANA 5K",
  "ZONK",
  "Voucher FF",
  "ZONK",
  "Saldo DANA 10K",
  "ZONK"
];
const MAX_WINNERS = 10;
/* ========================== */

let isSpinning = false;
const anglePerSlice = 360 / PRIZES.length;

let winners = JSON.parse(localStorage.getItem("winners")||"[]");
let logs = JSON.parse(localStorage.getItem("logs")||"[]");

/* ===== BUILD WHEEL ===== */
function buildWheel(){
  const wheel = document.getElementById("wheel");
  const colors = ["#ff004c","#ffaa00","#00ffaa","#0066ff","#aa00ff","#ff6600"];
  let bg = "conic-gradient(";
  PRIZES.forEach((p,i)=>{
    bg += `${colors[i%colors.length]} ${i*anglePerSlice}deg ${(i+1)*anglePerSlice}deg,`;
  });
  wheel.style.background = bg.slice(0,-1)+")";
}
buildWheel();

/* ===== SPIN ===== */
function spin(){
  if(isSpinning) return;

  const name = document.getElementById("name").value.trim();
  if(!name) return alert("Isi nama dulu!");

  if(winners.length >= MAX_WINNERS){
    document.getElementById("result").innerText="‚ùå Giveaway penuh";
    return;
  }

  isSpinning = true;
  document.getElementById("spinBtn").disabled = true;

  const prizeIndex = Math.floor(Math.random()*PRIZES.length);
  const prize = PRIZES[prizeIndex];

  const stopAngle =
    360*5 +
    (360 - (prizeIndex*anglePerSlice + anglePerSlice/2));

  const wheel = document.getElementById("wheel");
  wheel.style.transform = `rotate(${stopAngle}deg)`;

  document.getElementById("result").innerText="üé≤ Mengundi...";

  setTimeout(()=>{
    if(prize !== "ZONK"){
      winners.push(name+" - "+prize);
      logs.push("MENANG - "+name+" ("+prize+")");
      document.getElementById("result").innerText="üèÜ "+prize;
    }else{
      logs.push("ZONK - "+name);
      document.getElementById("result").innerText="‚ùå ZONK";
    }

    save();
    render();

    isSpinning = false;
    document.getElementById("spinBtn").disabled = false;
  },4000);
}

function save(){
  localStorage.setItem("winners",JSON.stringify(winners));
  localStorage.setItem("logs",JSON.stringify(logs));
}

function render(){
  document.getElementById("winnerList").innerHTML =
    "üèÜ Pemenang:<br>"+winners.join("<br>");
  document.getElementById("logList").innerHTML =
    "üìú Log:<br>"+logs.slice(-10).join("<br>");
}
render();
</script>
</body>
</html>
